import{_ as s,a as e,a2 as n,o as p}from"./chunks/framework.DAlL-BGO.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{"lastUpdated":"2023-12-18 22:22"},"headers":[],"relativePath":"pages/安装手册/CentOS下安装配置FRP.md","filePath":"pages/安装手册/CentOS下安装配置FRP.md","lastUpdated":1733806965000}'),t={name:"pages/安装手册/CentOS下安装配置FRP.md"};function l(i,a,o,c,r,d){return p(),e("div",null,a[0]||(a[0]=[n(`<h3 id="一、frp相关地址" tabindex="-1">一、frp相关地址 <a class="header-anchor" href="#一、frp相关地址" aria-label="Permalink to &quot;一、frp相关地址&quot;">​</a></h3><p><a href="https://github.com/fatedier/frp" target="_blank" rel="noreferrer">源码地址 https://github.com/fatedier/frp</a></p><p>本次安装的版本是 <code>v0.27.0</code></p><h3 id="二、服务端" tabindex="-1">二、服务端 <a class="header-anchor" href="#二、服务端" aria-label="Permalink to &quot;二、服务端&quot;">​</a></h3><p>CentOS7 服务器IP <code>100.100.100.1</code></p><h4 id="_1-下载" tabindex="-1">1. 下载 <a class="header-anchor" href="#_1-下载" aria-label="Permalink to &quot;1. 下载&quot;">​</a></h4><p>在 <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noreferrer">https://github.com/fatedier/frp/releases</a> 下载软件包 <code>frp_0.27.0_linux_amd64.tar.gz</code></p><h4 id="_2-配置并启动" tabindex="-1">2. 配置并启动 <a class="header-anchor" href="#_2-配置并启动" aria-label="Permalink to &quot;2. 配置并启动&quot;">​</a></h4><ul><li>解压</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tar -zxf frp_0.27.0_linux_amd64.tar.gz</span></span></code></pre></div><ul><li>修改配置文件</li></ul><p>修改服务器配置文件 <code>frps.ini</code>,内容如下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[common]</span></span>
<span class="line"><span>bind_port = 5000</span></span>
<span class="line"><span>token = 987654321</span></span>
<span class="line"><span>allow_ports = 5000-5100</span></span></code></pre></div><p>监听5000端口，同时添加 5000 至 5100 的端口，方便客户端使用这些端口开放对应的服务，<code>token</code> 是连接的密钥</p><ul><li>启动</li></ul><p>解压目录下执行</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ nohup ./frps -c frps.ini&amp;</span></span></code></pre></div><p>服务端防火墙开放对应的 <code>5000-5100</code> 端口</p><h3 id="三、客户端" tabindex="-1">三、客户端 <a class="header-anchor" href="#三、客户端" aria-label="Permalink to &quot;三、客户端&quot;">​</a></h3><p>CentOS7 服务器IP <code>192.168.0.100</code></p><h4 id="_1-下载-1" tabindex="-1">1. 下载 <a class="header-anchor" href="#_1-下载-1" aria-label="Permalink to &quot;1. 下载&quot;">​</a></h4><p>在 <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noreferrer">https://github.com/fatedier/frp/releases</a> 下载软件包 <code>frp_0.27.0_linux_amd64.tar.gz</code></p><h4 id="_2-配置并启动-1" tabindex="-1">2. 配置并启动 <a class="header-anchor" href="#_2-配置并启动-1" aria-label="Permalink to &quot;2. 配置并启动&quot;">​</a></h4><ul><li>解压</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tar -zxf frp_0.27.0_linux_amd64.tar.gz</span></span></code></pre></div><ul><li><p>修改配置文件</p></li><li><p>192.168.0.100 frp 客户端配置</p></li></ul><p>修改客户端配置见 <code>frpc.ini</code>,内容如下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[common]</span></span>
<span class="line"><span>server_addr = 100.100.100.1</span></span>
<span class="line"><span>server_port = 5000</span></span>
<span class="line"><span>token = 987654321</span></span>
<span class="line"><span>admin_addr = 127.0.0.1</span></span>
<span class="line"><span>admin_port = 7400</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[plugin_http_proxy]</span></span>
<span class="line"><span>type = tcp</span></span>
<span class="line"><span>remote_port = 5001</span></span>
<span class="line"><span>plugin = http_proxy</span></span>
<span class="line"><span>plugin_http_user = zqyu</span></span>
<span class="line"><span>plugin_http_passwd = zqyu123456</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[ssh100]</span></span>
<span class="line"><span>type = tcp</span></span>
<span class="line"><span>local_ip = 192.168.0.100</span></span>
<span class="line"><span>local_port = 22</span></span>
<span class="line"><span>remote_port = 5002</span></span></code></pre></div><p>连接服务端的5000端口，密钥<code>token</code>和服务端一样。 开启 <code>plugin_http_proxy</code>,使用服务端允许的 <code>5001</code>端口，设置账号 <code>zqyu</code> 和密码 <code>zqyu123456</code>。 同时这里还测试添加了一个 ssh服务，使用ssh连接客户端机器。 客户端启用 admin 端口，方便客户端配置的热加载。</p><ul><li>启动</li></ul><p>解压目录下执行</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ nohup ./frpc -c frpc.ini&amp;</span></span></code></pre></div><ul><li>重载配置</li></ul><p>以后修改配置后可以使用命令重新加载，无需重启客户端。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ ./frpc reload -c frpc.ini</span></span></code></pre></div><p>\`</p>`,36)]))}const g=s(t,[["render",l]]);export{u as __pageData,g as default};
