import{_ as e,a as s,a2 as l,o as t}from"./chunks/framework.DAlL-BGO.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{"lastUpdated":"2023-12-18 22:22"},"headers":[],"relativePath":"pages/安装手册/利用Docker恢复MySQL.md","filePath":"pages/安装手册/利用Docker恢复MySQL.md","lastUpdated":1733806965000}'),o={name:"pages/安装手册/利用Docker恢复MySQL.md"};function i(d,a,n,c,p,r){return t(),s("div",null,a[0]||(a[0]=[l('<h2 id="背景" tabindex="-1">背景 <a class="header-anchor" href="#背景" aria-label="Permalink to &quot;背景&quot;">​</a></h2><p>旧服务器中安装了mysql-5.7，原来的<code>var\\lib\\mysql</code>文件夹整个是存在的。现在需要将原来的数据库恢复。</p><h2 id="安装mysql" tabindex="-1">安装mysql <a class="header-anchor" href="#安装mysql" aria-label="Permalink to &quot;安装mysql&quot;">​</a></h2><ul><li>下载</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ docker pull mysql:5.7.27</span></span></code></pre></div><ul><li>启动</li></ul><p>在windows启动docker镜像（linux同理）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ docker run --name mysql -p 3306:3306 -v e:/docker/mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7.27</span></span></code></pre></div><ul><li>停止</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ docker stop mysql</span></span></code></pre></div><h2 id="迁移" tabindex="-1">迁移 <a class="header-anchor" href="#迁移" aria-label="Permalink to &quot;迁移&quot;">​</a></h2><p>将原来<code>var\\lib\\mysql</code>中各个不同的数据库（mysql，performance_schema除外）文件夹迁移到windows下的<code>E:/docker/mysql</code>文件夹，同时将<code>ibdata1</code>文件也迁移到<code>E:/docker/mysql</code>中，重新启动docker镜像即可</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ docker start mysql</span></span></code></pre></div><h2 id="mysql8" tabindex="-1">mysql8 <a class="header-anchor" href="#mysql8" aria-label="Permalink to &quot;mysql8&quot;">​</a></h2><p>mysql8版本需要复制全部的文件，之后重启即可。</p>',15)]))}const u=e(o,[["render",i]]);export{m as __pageData,u as default};
